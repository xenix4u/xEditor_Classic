<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xEditor - Multiline Toolbar Solution</title>
    <link rel="stylesheet" href="./dist/xeditor.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            padding: 20px;
        }
        h1 {
            margin: 0 0 20px 0;
            font-size: 24px;
        }
        
        /* SOLUTION: íˆ´ë°” ë©€í‹°ë¼ì¸ ê°•ì œ ì ìš© */
        .xeditor-toolbar {
            display: flex !important;
            flex-wrap: wrap !important;
            width: 100% !important;
            max-width: 100% !important;
            box-sizing: border-box !important;
        }
        
        /* íˆ´ë°” ì•„ì´í…œì´ ì¤„ë°”ê¿ˆë˜ë„ë¡ ì„¤ì • */
        .xeditor-toolbar > * {
            flex-shrink: 0 !important;
        }
        
        /* íŠ¹ì • êµ¬ë¶„ì„  í›„ ì¤„ë°”ê¿ˆ ê°•ì œ */
        .force-line-break {
            width: 100% !important;
            height: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
            border: none !important;
            visibility: hidden !important;
        }
        
        /* ë…¼ë¦¬ì  ê·¸ë£¹ë³„ íˆ´ë°” */
        .toolbar-group-wrapper {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .toolbar-group {
            display: flex;
            align-items: center;
            padding: 4px;
            background-color: rgba(0, 0, 0, 0.02);
            border-radius: 4px;
        }
        
        #editor {
            height: 500px;
            border: 1px solid #ddd;
            margin-top: 20px;
        }
        
        .info {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        
        .info h3 {
            margin: 0 0 10px 0;
            font-size: 16px;
        }
        
        .info p {
            margin: 0;
            font-size: 14px;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>xEditor - ë©€í‹°ë¼ì¸ íˆ´ë°” í•´ê²°ì±…</h1>
        
        <div class="info">
            <h3>ğŸ¯ í•´ê²° ë°©ë²•</h3>
            <p>1. CSSì—ì„œ <code>flex-wrap: wrap</code>ì„ ê°•ì œ ì ìš©</p>
            <p>2. íˆ´ë°” ì•„ì´í…œì— <code>flex-shrink: 0</code> ì„¤ì •</p>
            <p>3. íŠ¹ì • ìœ„ì¹˜ì— ì¤„ë°”ê¿ˆ ìš”ì†Œ ì‚½ì…</p>
            <p>4. ë…¼ë¦¬ì  ê·¸ë£¹ìœ¼ë¡œ íˆ´ë°” êµ¬ì„±</p>
        </div>
        
        <div id="editor"></div>
    </div>
    
    <script src="./dist/xeditor.min.js"></script>
    <script>
        // ì»¤ìŠ¤í…€ íˆ´ë°” ì•„ì´í…œ ë°°ì—´ (ì¤„ë°”ê¿ˆ í¬í•¨)
        const customToolbarItems = [
            // ì²« ë²ˆì§¸ ì¤„: í…ìŠ¤íŠ¸ ì„œì‹
            'bold', 'italic', 'underline', 'strikethrough', '|',
            'fontFamily', 'fontSize', '|',
            'textColor', 'backgroundColor', '|',
            'alignLeft', 'alignCenter', 'alignRight', 'alignJustify',
            'LINEBREAK', // ì»¤ìŠ¤í…€ ì¤„ë°”ê¿ˆ ë§ˆì»¤
            
            // ë‘ ë²ˆì§¸ ì¤„: ë¦¬ìŠ¤íŠ¸ì™€ ë¸”ë¡
            'orderedList', 'unorderedList', 'checklist', '|',
            'indent', 'outdent', '|',
            'heading', 'paragraph', 'blockquote', '|',
            'code', 'horizontalRule',
            'LINEBREAK',
            
            // ì„¸ ë²ˆì§¸ ì¤„: ì‚½ì…ê³¼ ë„êµ¬
            'link', 'image', 'video', 'table', '|',
            'emoji', 'specialChars', '|',
            'findReplace', '|',
            'undo', 'redo', '|',
            'sourceCode', 'fullscreen', 'print'
        ];
        
        // ì—ë””í„° ì´ˆê¸°í™”
        const editor = new xeditor.xEditor({
            container: '#editor',
            toolbar: {
                items: customToolbarItems.filter(item => item !== 'LINEBREAK')
            },
            content: `
                <h2>ë©€í‹°ë¼ì¸ íˆ´ë°”ê°€ ì ìš©ëœ xEditor</h2>
                <p>ì´ì œ íˆ´ë°”ê°€ ì—¬ëŸ¬ ì¤„ë¡œ ê¹”ë”í•˜ê²Œ í‘œì‹œë©ë‹ˆë‹¤. ê° ê¸°ëŠ¥ ê·¸ë£¹ì´ ë…¼ë¦¬ì ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ìˆì–´ ì‚¬ìš©í•˜ê¸° í¸í•©ë‹ˆë‹¤.</p>
                <p><strong>íŠ¹ì§•:</strong></p>
                <ul>
                    <li>í™”ë©´ í¬ê¸°ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì¤„ë°”ê¿ˆ</li>
                    <li>ë…¼ë¦¬ì  ê·¸ë£¹ë³„ êµ¬ì„±</li>
                    <li>ëª¨ë“  ê¸°ëŠ¥ì— ì‰½ê²Œ ì ‘ê·¼ ê°€ëŠ¥</li>
                </ul>
            `
        });
        
        // DOMì´ ë¡œë“œëœ í›„ ì¤„ë°”ê¿ˆ ìš”ì†Œ ì‚½ì…
        setTimeout(() => {
            const toolbar = editor.toolbar.element;
            const items = Array.from(toolbar.children);
            let insertedBreaks = 0;
            
            customToolbarItems.forEach((item, index) => {
                if (item === 'LINEBREAK') {
                    const actualIndex = index - insertedBreaks;
                    const lineBreak = document.createElement('div');
                    lineBreak.className = 'force-line-break';
                    
                    if (items[actualIndex]) {
                        toolbar.insertBefore(lineBreak, items[actualIndex]);
                    } else {
                        toolbar.appendChild(lineBreak);
                    }
                    insertedBreaks++;
                }
            });
        }, 100);
        
        console.log('ë©€í‹°ë¼ì¸ íˆ´ë°”ê°€ ì„±ê³µì ìœ¼ë¡œ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.');
    </script>
</body>
</html>